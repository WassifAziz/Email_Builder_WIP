<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>HTML Builder</title>

    
    <link rel="stylesheet" type="text/css" href="//code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css">
    <link href="css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" type="text/css" href="css/multiple-select.css">
    <link rel="stylesheet" type="text/css" href="css/froala_page.css">
    <link rel="stylesheet" type="text/css" href="css/froala_editor.css">


    <link rel="stylesheet" type="text/css" href="css/ui_styles.css">
    <link rel="stylesheet" media="screen" type="text/css" href="css/colorpicker.css" />


    
    
    <style type='text/css' id="custom_styles">
        @media only screen and (max-width: 640px) {.table{width:320px!important;} }
    </style>

</head>



<body>

    <div id="wrapper">

        <div id="Shadowbox">
            <!--<span title="Close Preview"></span>-->
            <button>Close</button>
        </div>
        <section id="Preview">  
            <div id="Final" align="center">
                <table class="Result table" cellspacing="0" cellpadding="0" align="center" class="table" width="620"></table>
            </div>
        </section>
        

        <header>
            Email Template Builder
            
            <div class="responsive">
                Test responsiveness:
                <i class="fa fa-mobile"></i>
                <i class="fa fa-tablet"></i>
                <i class="fa fa-desktop"></i>
            </div>
            
        </header>
        
        
        <section class="tool_panel">
            <div class="tool blocks">
                <i class="fa fa-cube"></i>
                <h2>Blocks</h2>
            </div>
            <div class="tool styles">
                <i class="fa fa-cogs"></i>
                <h2>Styles</h2>
            </div>
            <div class="tool links">
                <i class="fa fa-link"></i>
                <h2>Link Editor</h2>
            </div>
            <div class="tool download">
                <i class="fa fa-download"></i>
                <h2>Preview and Download</h2>
            </div>
        </section>

        <section class="expanded_pane blocks">
            <h2 class="title"></h2>

            <button id="addSpace">Add Spacer table</button>

            <div id="Thumbs">

                <!--Thumbnail images used in the builder-->
                <img src="thumbnails/nw_rbs_thumbs01.gif" title="message" />
                <img src="thumbnails/nw_rbs_thumbs02.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs03.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs04.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs05.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs06.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs07.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs08.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs09.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs10.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs11.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs12.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs13.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs14.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs15.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs16.gif" title="header" />
                <img src="thumbnails/nw_rbs_thumbs17.gif" title="header" />

            </div>

        </section>
        
        <section class="expanded_pane styles">
            <h2 class="title">Styles</h2>

            <select multiple="multiple" id="select_class">
                <!--<option value="WF">full width</option>
<option value="hide">hide</option>-->
                <option value="wf">width full</option>
                <option value="db">display block</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
            </select>

            <div class="retrieved_styles"></div>
            <div class="font_styles">


                <div id="bg_color">
                    <H3>Background Colour</H3>
                    <div id="bg_color_selector">
                        <div>&nbsp;</div>
                    </div>
                </div>

                <div id="font_color">
                    <form action="" method="get"></form><H3>Font Colour</H3>
                    <div id="font_color_selector">
                        <div style="background-color: #0000ff">&nbsp;</div>
                    </div>
                </div>


                <div class="clear"></div>

                <button id="bg_removebtn" type="button">Remove BG</button>

                <div class="clear"></div>

                <H3>Font Size</H3>
                <!--                <input type="text" id="font_size" disabled>-->
                <select id="font_size">
                    <option value="8">8px</option>
                    <option value="10">10px</option>
                    <option value="12">12px</option>
                    <option value="13">13px</option>
                    <option value="14">14px</option>
                    <option value="16">16px</option>
                    <option value="20">20px</option>
                </select>
                <div id="slider"></div>


                <H3>Font Family</H3>

                <select id="font_family">
                    <option value="arial">Arial, Geneva, sans-serif</option>
                    <option value="helvetica">Helvetica, sans-serif</option>
                    <option value="Times">Times New Roman, sans-serif</option>
                </select>

                <H3>Line Height</H3>
                <input type="text" id="line_height" disabled>

                <H3>Padding</H3>
                <input type="text" id="padding" disabled>

                <div class="text_align_buttons" style="display:none;">
                    <H3>Text align</H3>
                    <input type="radio" name="text_alignment" value="left" style=""><span>left</span>
                    <input type="radio" name="text_alignment" value="center"><span>center</span>
                    <input type="radio" name="text_alignment" value="right"><span>right</span>
                </div>

                <div class="td_Valign_buttons" style="display:none;">
                    <H3>v-align</H3>
                    <input type="radio" name="td_vertical_alignment" value="top" style=""><span>top</span>
                    <input type="radio" name="td_vertical_alignment" value="middle"><span>middle</span>
                    <input type="radio" name="td_vertical_alignment" value="bottom"><span>bottom</span>
                </div>


            </div>


            <div class="custom_styles">

                <div class="heading">
                    <H3>Custom CSS</H3>
                    <i class="fa fa-arrow-down"></i>
                </div>

                <textarea class="custom_css" style="display:none;"></textarea>

            </div>

        </section>

        <section class="expanded_pane links">
            <h2 class="title"></h2>
            <form id="linkEditor">

                <input class="linkTXT" type="text" name="Link Text" size="25" placeholder="Insert link text">
                <input class="linkURL" type="text" name="Link URL" size="25" placeholder="Insert link URL">
                <input class="linkUpdate" type="button" name="button" value="Update link">

                <input class="Done" type="button" name="button" value="Done">

            </form>
        </section>

        <section class="expanded_pane download">
        
            <h2 class="title">Preview and download</h2>
            
            <section id="Tools">
                
                <!--<button id="Action">Test HTML</button>-->
                
                <input id="project_name" type="text" value="project_name" onclick="this.value=''" placeholder="Insert project name">
                
                <button id="Target" style="display:none;">Add</button>

                <button id="Result">Preview</button>

                <!--<button id="closeEditor">Close Editor</button>-->

                <button id="downloadHTML">Download HTML</button>
                <!--<div class="editorTest"></div>-->

                <i class="fa fa-download"></i>
                
            </section>
            
            
            

            
        </section>
        
        <div id="Remove"></div>


        <!--Tools (hidden WiP)-->
        

        
        
        

        <!--Render section-->
        <section id="Render">

            <div id="Compose">
                <table cellpadding="0" cellspacing="0" border="0" width="620" align="center" style="background-color: #ffffff; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; width: 620px;" bgcolor="#FFFFFF" id="myTable" class="table" width="620">
                    <tbody></tbody>
                </table>
            </div>


        </section>


        <div class="clear"></div>
        <!--Load email mothership-->
        <section id="loadHere" style="height:0px;"></section>
        <table id="spacerTr">
            <tr class="spacer_tr">
                <td align="left" valign="top" height="15" style="font-size: 1px; line-height:1px;">
                    <img src="img/spacer.gif" width="1" height="15" style="-ms-interpolation-mode: bicubic; display: block; outline: none; text-decoration: none;">
                </td>
            </tr>
        </table>
        <section id="outputimages"></section>
        <!--Loaded dynamic elements END-->

    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <script type="text/javascript" src="js/froala_editor.min.js"></script>
    <script type="text/javascript" src="js/jquery.multiple.select.js"></script>
    <script type="text/javascript" src="js/jszip.js"></script>
    <script type="text/javascript" src="js/jszip-utils.js"></script>
    <script type="text/javascript" src="js/FileSaver.js"></script>
    <script>
        $('#myTable > tbody').sortable();

        $('#select_class').multipleSelect({
            placeholder: "Please select CSS classes",
            selectAll: false
        });

        //Custom form elements
        //Get labels attached to radio and checkbox inputs
        if (!$.support.leadingWhitespace) {
            //IE7 and 8 stuff
        }
        else {
            $('input[type=checkbox]:not(old), input[type=radio]:not(old)').after('<label>Value</label>');
        }



        //responsive test buttons
        $('.responsive .fa-mobile').on('click', function(){
            console.log('mobile'); 
            $('#Render').innerWidth(320);
            //$('#Render').animate({width: '320px'}, 500);
        });

        $('.responsive .fa-tablet').on('click', function(){
            console.log('tablet'); 
            $('#Render').innerWidth(768);
            //$('#Render').animate({width: '768px'}, 500);
        });

        $('.responsive .fa-desktop').on('click', function(){
            console.log('desktop'); 
            //$('#Render').css('width', '100%');
            $('#Render').width('');
            //$('#Render').animate({width: '100%'}, 500);
        });
        
        /*var zip = new JSZip();
        var email = $('.Result').html();
        zip.file("email.html", email);
        var img = zip.folder("images");
        img.file("smile.gif", imgData, {base64: true});
        var content = zip.generate({type:"blob"});
        // see FileSaver.js
        saveAs(content, "example.zip");*/


JSZipUtils.getBinaryContent("http://images.gigatdst.com/uploads/", function (err, data) {
    if(err) {
        throw err; // or handle the error
    }
    var zip = new JSZip();
    zip.file("picture.png", data, {binary:true});
});
       

        
        $("#").resizable({
            /*handles       : 'e,w',*/
            animate: false, 
            resize        : function (event,ui){
                /*ui.position.left = ui.originalPosition.left;
                ui.size.width    = ( ui.size.width
                                    - ui.originalSize.width )*2
                + ui.originalSize.width;*/
                /*ui.size.width = ui.originalSize.width;*/
            }
        });

        /*Responsive layout testing (header icons)*/
        $('').on('click', function(){
            
        });



    </script>
    <script src="js/HTML_ui.js"></script>
    <script type="text/javascript" src="js/builder2.js"></script>
    <script type="text/javascript" src="js/colorpicker.js"></script>

</body>

</html>






